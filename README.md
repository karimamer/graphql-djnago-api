# graphql-djnago-api

Stack of choice
===================
* Programming Language Python 3.6
* sqlite3 as my data store
* [Graphene as my graphQL lib](http://graphene-python.org/)
* Django as My web framework
* Graphene-django as bridge between django and Graphene

### Decision making

##### Programming Language:
I choose python over other Languages Due to
  * familiarity
  * fast iteration
  * Mature web echo system
  * easy graphql integration
  * easy integration between Graphene and django

##### Data Store:
I choose sqllite3
  * ships with Django
  * file based storage and local to my project
  * allows me to iterate around my data in a structured manner  

#### web framework:
 i went with django for these reasons
  * migration framework has a nice UI
  * Graphene-django makes it easy to setup a graphql server
  * djnago-admin to add records into sqllite3

Structure
===============
```
(level one)
graphql-django-api ---|  (level two A)
|                     |-> boingographql -|
|                     |                  |-> __init__.py
|                     |                  |-> schema.py
|                     |                  |-> settings.py
|                     |                  |-> urls.py
|                     |                  |-> wsgi.py
|                     |-> db.sqllite3
|                     | (level two B)
|                     |-> graphqlserver -|
|                                        |-> Migrations Folder
|                                        |-> admin.py
|                                        |-> apps.py
|                                        |-> models.py
|                                        |-> __init__.py
|                                        |-> schema.py
|                     
|-> manage.py
|-> README.md
|-> Docker-compose
|-> Dockerfile
|-> .gitignore
|-> requirements.txt
|-> schema.json
```
#### Folder structure
##### grapgql-django-api

is the head folder

##### Level one
**graphql-django-api**

* contains two Django apps. (in Django there is a distinction between apps and project [refrence](https://stackoverflow.com/questions/4879036/django-projects-vs-apps) )
* READ.md
* .gitignore
* docker-compose
* Dockerfile
* requirements.txt
* schema.json contains the grapgql schema


##### Level two A
**boingographql**
* __init__.py
* schema.py contains project level schema
* settings.py contains settings for the project generated by django
* urls.py contains project level urls
* Wsgi.py contains Wsgi server entry point and configs

##### Level two b
**Poet APP**
* Migrations Folder generated by django migrations framework
* admin.py admin page to add and delete records in the db
* apps.py contains  App configuration
* models.py contains DB models
* schema.py contian app level graphql schema

##### Level two C
* manage.py generated by django to run managament programs

Installation
====================
* [install Docker](https://docs.docker.com/install/)
* [install docker-compose](https://docs.docker.com/compose/install/)
*
URLS
================
### query
http://0.0.0.0:8000/graphql
 example queries
```
query {
  allDevices {
  	id
   	customerId{
      id
      firstName
    }
    deviceType
  }
}
```

```
query {
  allCustomers {
  	id
 		lastName
    firstName
    email
  }
}
```
```
query {
  allProducts {
  	id
		customerId{
      id
      lastName
      firstName
    }
    planType
  }
}
```


Things I could improve
========================
  * add tests
  * add relay integration
